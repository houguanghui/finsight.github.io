import{D as Ge,h as w,R as Q,g as _e,Q as oe,i as j,L as xe,aG as ze,X as be,w as un,e as ve,Y as Fe,aE as fn,a1 as dn,Z as vn}from"./shadow-Dste9fMo.js";import{h as mn,P as Ye}from"./index-IEvJvc0V.js";import{a as t,R as ae}from"./chunk-PVWAREVJ-CaeOwHG_.js";import{p as Ne,K as he,u as Oe}from"./omit-_PpgVY5T.js";import{b as ke}from"./Pagination-BgtA34Dv.js";var qe=t.createContext({});function Ze(n,e,a){var r=e;return!r&&a&&(r="".concat(n,"-").concat(a)),r}function Ve(n,e){var a=n["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof a!="number"){var i=n.document;a=i.documentElement[r],typeof a!="number"&&(a=i.body[r])}return a}function Cn(n){var e=n.getBoundingClientRect(),a={left:e.left,top:e.top},r=n.ownerDocument,i=r.defaultView||r.parentWindow;return a.left+=Ve(i),a.top+=Ve(i,!0),a}const hn=t.memo(function(n){var e=n.children;return e},function(n,e){var a=e.shouldUpdate;return!a});var gn={width:0,height:0,overflow:"hidden",outline:"none"},yn={outline:"none"},wn=ae.forwardRef(function(n,e){var a=n.prefixCls,r=n.className,i=n.style,o=n.title,s=n.ariaId,l=n.footer,c=n.closable,f=n.closeIcon,g=n.onClose,d=n.children,k=n.bodyStyle,C=n.bodyProps,y=n.modalRender,N=n.onMouseDown,E=n.onMouseUp,R=n.holderRef,P=n.visible,M=n.forceRender,b=n.width,u=n.height,h=n.classNames,m=n.styles,v=ae.useContext(qe),x=v.panel,I=Ge(R,x),S=t.useRef(),O=t.useRef();ae.useImperativeHandle(e,function(){return{focus:function(){var X;(X=S.current)===null||X===void 0||X.focus({preventScroll:!0})},changeActive:function(X){var z=document,ee=z.activeElement;X&&ee===O.current?S.current.focus({preventScroll:!0}):!X&&ee===S.current&&O.current.focus({preventScroll:!0})}}});var L={};b!==void 0&&(L.width=b),u!==void 0&&(L.height=u);var p=l?ae.createElement("div",{className:Q("".concat(a,"-footer"),h==null?void 0:h.footer),style:w({},m==null?void 0:m.footer)},l):null,D=o?ae.createElement("div",{className:Q("".concat(a,"-header"),h==null?void 0:h.header),style:w({},m==null?void 0:m.header)},ae.createElement("div",{className:"".concat(a,"-title"),id:s},o)):null,F=t.useMemo(function(){return _e(c)==="object"&&c!==null?c:c?{closeIcon:f??ae.createElement("span",{className:"".concat(a,"-close-x")})}:{}},[c,f,a]),V=Ne(F,!0),W=_e(c)==="object"&&c.disabled,re=c?ae.createElement("button",oe({type:"button",onClick:g,"aria-label":"Close"},V,{className:"".concat(a,"-close"),disabled:W}),F.closeIcon):null,U=ae.createElement("div",{className:Q("".concat(a,"-content"),h==null?void 0:h.content),style:m==null?void 0:m.content},re,D,ae.createElement("div",oe({className:Q("".concat(a,"-body"),h==null?void 0:h.body),style:w(w({},k),m==null?void 0:m.body)},C),d),p);return ae.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":o?s:null,"aria-modal":"true",ref:I,style:w(w({},i),L),className:Q(a,r),onMouseDown:N,onMouseUp:E},ae.createElement("div",{ref:S,tabIndex:0,style:yn},ae.createElement(hn,{shouldUpdate:P||M},y?y(U):U)),ae.createElement("div",{tabIndex:0,ref:O,style:gn}))}),Qe=t.forwardRef(function(n,e){var a=n.prefixCls,r=n.title,i=n.style,o=n.className,s=n.visible,l=n.forceRender,c=n.destroyOnClose,f=n.motionName,g=n.ariaId,d=n.onVisibleChanged,k=n.mousePosition,C=t.useRef(),y=t.useState(),N=j(y,2),E=N[0],R=N[1],P={};E&&(P.transformOrigin=E);function M(){var b=Cn(C.current);R(k&&(k.x||k.y)?"".concat(k.x-b.left,"px ").concat(k.y-b.top,"px"):"")}return t.createElement(xe,{visible:s,onVisibleChanged:d,onAppearPrepare:M,onEnterPrepare:M,forceRender:l,motionName:f,removeOnLeave:c,ref:C},function(b,u){var h=b.className,m=b.style;return t.createElement(wn,oe({},n,{ref:e,title:r,ariaId:g,prefixCls:a,holderRef:u,style:w(w(w({},m),i),P),className:Q(o,h)}))})});Qe.displayName="Content";var bn=function(e){var a=e.prefixCls,r=e.style,i=e.visible,o=e.maskProps,s=e.motionName,l=e.className;return t.createElement(xe,{key:"mask",visible:i,motionName:s,leavedClassName:"".concat(a,"-mask-hidden")},function(c,f){var g=c.className,d=c.style;return t.createElement("div",oe({ref:f,style:w(w({},d),r),className:Q("".concat(a,"-mask"),g,l)},o))})},Sn=function(e){var a=e.prefixCls,r=a===void 0?"rc-dialog":a,i=e.zIndex,o=e.visible,s=o===void 0?!1:o,l=e.keyboard,c=l===void 0?!0:l,f=e.focusTriggerAfterClose,g=f===void 0?!0:f,d=e.wrapStyle,k=e.wrapClassName,C=e.wrapProps,y=e.onClose,N=e.afterOpenChange,E=e.afterClose,R=e.transitionName,P=e.animation,M=e.closable,b=M===void 0?!0:M,u=e.mask,h=u===void 0?!0:u,m=e.maskTransitionName,v=e.maskAnimation,x=e.maskClosable,I=x===void 0?!0:x,S=e.maskStyle,O=e.maskProps,L=e.rootClassName,p=e.classNames,D=e.styles,F=t.useRef(),V=t.useRef(),W=t.useRef(),re=t.useState(s),U=j(re,2),T=U[0],X=U[1],z=mn();function ee(){ze(V.current,document.activeElement)||(F.current=document.activeElement)}function ie(){if(!ze(V.current,document.activeElement)){var Y;(Y=W.current)===null||Y===void 0||Y.focus()}}function H(Y){if(Y)ie();else{if(X(!1),h&&F.current&&g){try{F.current.focus({preventScroll:!0})}catch{}F.current=null}T&&(E==null||E())}N==null||N(Y)}function ce(Y){y==null||y(Y)}var ne=t.useRef(!1),B=t.useRef(),A=function(){clearTimeout(B.current),ne.current=!0},_=function(){B.current=setTimeout(function(){ne.current=!1})},G=null;I&&(G=function(Z){ne.current?ne.current=!1:V.current===Z.target&&ce(Z)});function q(Y){if(c&&Y.keyCode===he.ESC){Y.stopPropagation(),ce(Y);return}s&&Y.keyCode===he.TAB&&W.current.changeActive(!Y.shiftKey)}t.useEffect(function(){s&&(X(!0),ee())},[s]),t.useEffect(function(){return function(){clearTimeout(B.current)}},[]);var de=w(w(w({zIndex:i},d),D==null?void 0:D.wrapper),{},{display:T?null:"none"});return t.createElement("div",oe({className:Q("".concat(r,"-root"),L)},Ne(e,{data:!0})),t.createElement(bn,{prefixCls:r,visible:h&&s,motionName:Ze(r,m,v),style:w(w({zIndex:i},S),D==null?void 0:D.mask),maskProps:O,className:p==null?void 0:p.mask}),t.createElement("div",oe({tabIndex:-1,onKeyDown:q,className:Q("".concat(r,"-wrap"),k,p==null?void 0:p.wrapper),ref:V,onClick:G,style:de},C),t.createElement(Qe,oe({},e,{onMouseDown:A,onMouseUp:_,ref:W,closable:b,ariaId:z,prefixCls:r,visible:s&&T,onClose:ce,onVisibleChanged:H,motionName:Ze(r,R,P)}))))},Je=function(e){var a=e.visible,r=e.getContainer,i=e.forceRender,o=e.destroyOnClose,s=o===void 0?!1:o,l=e.afterClose,c=e.panelRef,f=t.useState(a),g=j(f,2),d=g[0],k=g[1],C=t.useMemo(function(){return{panel:c}},[c]);return t.useEffect(function(){a&&k(!0)},[a]),!i&&s&&!d?null:t.createElement(qe.Provider,{value:C},t.createElement(Ye,{open:a||i||d,autoDestroy:!1,getContainer:r,autoLock:a||d},t.createElement(Sn,oe({},e,{destroyOnClose:s,afterClose:function(){l==null||l(),k(!1)}}))))};Je.displayName="Dialog";var We=t.createContext(null),en=t.createContext({}),kn=["prefixCls","className","containerRef"],Rn=function(e){var a=e.prefixCls,r=e.className,i=e.containerRef,o=be(e,kn),s=t.useContext(en),l=s.panel,c=Ge(l,i);return t.createElement("div",oe({className:Q("".concat(a,"-content"),r),role:"dialog",ref:c},Ne(e,{aria:!0}),{"aria-modal":"true"},o))};function Ue(n){return typeof n=="string"&&String(Number(n))===n?(un(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(n)):n}var He={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function xn(n,e){var a,r,i,o=n.prefixCls,s=n.open,l=n.placement,c=n.inline,f=n.push,g=n.forceRender,d=n.autoFocus,k=n.keyboard,C=n.classNames,y=n.rootClassName,N=n.rootStyle,E=n.zIndex,R=n.className,P=n.id,M=n.style,b=n.motion,u=n.width,h=n.height,m=n.children,v=n.mask,x=n.maskClosable,I=n.maskMotion,S=n.maskClassName,O=n.maskStyle,L=n.afterOpenChange,p=n.onClose,D=n.onMouseEnter,F=n.onMouseOver,V=n.onMouseLeave,W=n.onClick,re=n.onKeyDown,U=n.onKeyUp,T=n.styles,X=n.drawerRender,z=t.useRef(),ee=t.useRef(),ie=t.useRef();t.useImperativeHandle(e,function(){return z.current});var H=function(J){var ue=J.keyCode,fe=J.shiftKey;switch(ue){case he.TAB:{if(ue===he.TAB){if(!fe&&document.activeElement===ie.current){var Ce;(Ce=ee.current)===null||Ce===void 0||Ce.focus({preventScroll:!0})}else if(fe&&document.activeElement===ee.current){var Se;(Se=ie.current)===null||Se===void 0||Se.focus({preventScroll:!0})}}break}case he.ESC:{p&&k&&(J.stopPropagation(),p(J));break}}};t.useEffect(function(){if(s&&d){var $;($=z.current)===null||$===void 0||$.focus({preventScroll:!0})}},[s]);var ce=t.useState(!1),ne=j(ce,2),B=ne[0],A=ne[1],_=t.useContext(We),G;typeof f=="boolean"?G=f?{}:{distance:0}:G=f||{};var q=(a=(r=(i=G)===null||i===void 0?void 0:i.distance)!==null&&r!==void 0?r:_==null?void 0:_.pushDistance)!==null&&a!==void 0?a:180,de=t.useMemo(function(){return{pushDistance:q,push:function(){A(!0)},pull:function(){A(!1)}}},[q]);t.useEffect(function(){if(s){var $;_==null||($=_.push)===null||$===void 0||$.call(_)}else{var J;_==null||(J=_.pull)===null||J===void 0||J.call(_)}},[s]),t.useEffect(function(){return function(){var $;_==null||($=_.pull)===null||$===void 0||$.call(_)}},[]);var Y=t.createElement(xe,oe({key:"mask"},I,{visible:v&&s}),function($,J){var ue=$.className,fe=$.style;return t.createElement("div",{className:Q("".concat(o,"-mask"),ue,C==null?void 0:C.mask,S),style:w(w(w({},fe),O),T==null?void 0:T.mask),onClick:x&&s?p:void 0,ref:J})}),Z=typeof b=="function"?b(l):b,K={};if(B&&q)switch(l){case"top":K.transform="translateY(".concat(q,"px)");break;case"bottom":K.transform="translateY(".concat(-q,"px)");break;case"left":K.transform="translateX(".concat(q,"px)");break;default:K.transform="translateX(".concat(-q,"px)");break}l==="left"||l==="right"?K.width=Ue(u):K.height=Ue(h);var te={onMouseEnter:D,onMouseOver:F,onMouseLeave:V,onClick:W,onKeyDown:re,onKeyUp:U},se=t.createElement(xe,oe({key:"panel"},Z,{visible:s,forceRender:g,onVisibleChanged:function(J){L==null||L(J)},removeOnLeave:!1,leavedClassName:"".concat(o,"-content-wrapper-hidden")}),function($,J){var ue=$.className,fe=$.style,Ce=t.createElement(Rn,oe({id:P,containerRef:J,prefixCls:o,className:Q(R,C==null?void 0:C.content),style:w(w({},M),T==null?void 0:T.content)},Ne(n,{aria:!0}),te),m);return t.createElement("div",oe({className:Q("".concat(o,"-content-wrapper"),C==null?void 0:C.wrapper,ue),style:w(w(w({},K),fe),T==null?void 0:T.wrapper)},Ne(n,{data:!0})),X?X(Ce):Ce)}),le=w({},N);return E&&(le.zIndex=E),t.createElement(We.Provider,{value:de},t.createElement("div",{className:Q(o,"".concat(o,"-").concat(l),y,ve(ve({},"".concat(o,"-open"),s),"".concat(o,"-inline"),c)),style:le,tabIndex:-1,ref:z,onKeyDown:H},Y,t.createElement("div",{tabIndex:0,ref:ee,style:He,"aria-hidden":"true","data-sentinel":"start"}),se,t.createElement("div",{tabIndex:0,ref:ie,style:He,"aria-hidden":"true","data-sentinel":"end"})))}var Nn=t.forwardRef(xn),qn=function(e){var a=e.open,r=a===void 0?!1:a,i=e.prefixCls,o=i===void 0?"rc-drawer":i,s=e.placement,l=s===void 0?"right":s,c=e.autoFocus,f=c===void 0?!0:c,g=e.keyboard,d=g===void 0?!0:g,k=e.width,C=k===void 0?378:k,y=e.mask,N=y===void 0?!0:y,E=e.maskClosable,R=E===void 0?!0:E,P=e.getContainer,M=e.forceRender,b=e.afterOpenChange,u=e.destroyOnClose,h=e.onMouseEnter,m=e.onMouseOver,v=e.onMouseLeave,x=e.onClick,I=e.onKeyDown,S=e.onKeyUp,O=e.panelRef,L=t.useState(!1),p=j(L,2),D=p[0],F=p[1],V=t.useState(!1),W=j(V,2),re=W[0],U=W[1];Fe(function(){U(!0)},[]);var T=re?r:!1,X=t.useRef(),z=t.useRef();Fe(function(){T&&(z.current=document.activeElement)},[T]);var ee=function(B){var A;if(F(B),b==null||b(B),!B&&z.current&&!((A=X.current)!==null&&A!==void 0&&A.contains(z.current))){var _;(_=z.current)===null||_===void 0||_.focus({preventScroll:!0})}},ie=t.useMemo(function(){return{panel:O}},[O]);if(!M&&!D&&!T&&u)return null;var H={onMouseEnter:h,onMouseOver:m,onMouseLeave:v,onClick:x,onKeyDown:I,onKeyUp:S},ce=w(w({},e),{},{open:T,prefixCls:o,placement:l,autoFocus:f,keyboard:d,width:C,mask:N,maskClosable:R,inline:P===!1,afterOpenChange:ee,ref:X},H);return t.createElement(en.Provider,{value:ie},t.createElement(Ye,{open:T||M||D,autoDestroy:!1,getContainer:P,autoLock:N&&(T||D)},t.createElement(Nn,ce)))};function nn(){var n=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:n,height:e}}function En(n){var e=n.getBoundingClientRect(),a=document.documentElement;return{left:e.left+(window.pageXOffset||a.scrollLeft)-(a.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||a.scrollTop)-(a.clientTop||document.body.clientTop||0)}}var Ee=t.createContext(null),In=function(e){var a=e.visible,r=e.maskTransitionName,i=e.getContainer,o=e.prefixCls,s=e.rootClassName,l=e.icons,c=e.countRender,f=e.showSwitch,g=e.showProgress,d=e.current,k=e.transform,C=e.count,y=e.scale,N=e.minScale,E=e.maxScale,R=e.closeIcon,P=e.onActive,M=e.onClose,b=e.onZoomIn,u=e.onZoomOut,h=e.onRotateRight,m=e.onRotateLeft,v=e.onFlipX,x=e.onFlipY,I=e.onReset,S=e.toolbarRender,O=e.zIndex,L=e.image,p=t.useContext(Ee),D=l.rotateLeft,F=l.rotateRight,V=l.zoomIn,W=l.zoomOut,re=l.close,U=l.left,T=l.right,X=l.flipX,z=l.flipY,ee="".concat(o,"-operations-operation");t.useEffect(function(){var Z=function(te){te.keyCode===he.ESC&&M()};return a&&window.addEventListener("keydown",Z),function(){window.removeEventListener("keydown",Z)}},[a]);var ie=function(K,te){K.preventDefault(),K.stopPropagation(),P(te)},H=t.useCallback(function(Z){var K=Z.type,te=Z.disabled,se=Z.onClick,le=Z.icon;return t.createElement("div",{key:K,className:Q(ee,"".concat(o,"-operations-operation-").concat(K),ve({},"".concat(o,"-operations-operation-disabled"),!!te)),onClick:se},le)},[ee,o]),ce=f?H({icon:U,onClick:function(K){return ie(K,-1)},type:"prev",disabled:d===0}):void 0,ne=f?H({icon:T,onClick:function(K){return ie(K,1)},type:"next",disabled:d===C-1}):void 0,B=H({icon:z,onClick:x,type:"flipY"}),A=H({icon:X,onClick:v,type:"flipX"}),_=H({icon:D,onClick:m,type:"rotateLeft"}),G=H({icon:F,onClick:h,type:"rotateRight"}),q=H({icon:W,onClick:u,type:"zoomOut",disabled:y<=N}),de=H({icon:V,onClick:b,type:"zoomIn",disabled:y===E}),Y=t.createElement("div",{className:"".concat(o,"-operations")},B,A,_,G,q,de);return t.createElement(xe,{visible:a,motionName:r},function(Z){var K=Z.className,te=Z.style;return t.createElement(Ye,{open:!0,getContainer:i??document.body},t.createElement("div",{className:Q("".concat(o,"-operations-wrapper"),K,s),style:w(w({},te),{},{zIndex:O})},R===null?null:t.createElement("button",{className:"".concat(o,"-close"),onClick:M},R||re),f&&t.createElement(t.Fragment,null,t.createElement("div",{className:Q("".concat(o,"-switch-left"),ve({},"".concat(o,"-switch-left-disabled"),d===0)),onClick:function(le){return ie(le,-1)}},U),t.createElement("div",{className:Q("".concat(o,"-switch-right"),ve({},"".concat(o,"-switch-right-disabled"),d===C-1)),onClick:function(le){return ie(le,1)}},T)),t.createElement("div",{className:"".concat(o,"-footer")},g&&t.createElement("div",{className:"".concat(o,"-progress")},c?c(d+1,C):t.createElement("bdi",null,"".concat(d+1," / ").concat(C))),S?S(Y,w(w({icons:{prevIcon:ce,nextIcon:ne,flipYIcon:B,flipXIcon:A,rotateLeftIcon:_,rotateRightIcon:G,zoomOutIcon:q,zoomInIcon:de},actions:{onActive:P,onFlipY:x,onFlipX:v,onRotateLeft:m,onRotateRight:h,onZoomOut:u,onZoomIn:b,onReset:I,onClose:M},transform:k},p?{current:d,total:C}:{}),{},{image:L})):Y)))})},Te={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Mn(n,e,a,r){var i=t.useRef(null),o=t.useRef([]),s=t.useState(Te),l=j(s,2),c=l[0],f=l[1],g=function(y){f(Te),fn(Te,c)||r==null||r({transform:Te,action:y})},d=function(y,N){i.current===null&&(o.current=[],i.current=dn(function(){f(function(E){var R=E;return o.current.forEach(function(P){R=w(w({},R),P)}),i.current=null,r==null||r({transform:R,action:N}),R})})),o.current.push(w(w({},c),y))},k=function(y,N,E,R,P){var M=n.current,b=M.width,u=M.height,h=M.offsetWidth,m=M.offsetHeight,v=M.offsetLeft,x=M.offsetTop,I=y,S=c.scale*y;S>a?(S=a,I=a/c.scale):S<e&&(S=P?S:e,I=S/c.scale);var O=E??innerWidth/2,L=R??innerHeight/2,p=I-1,D=p*b*.5,F=p*u*.5,V=p*(O-c.x-v),W=p*(L-c.y-x),re=c.x-(V-D),U=c.y-(W-F);if(y<1&&S===1){var T=h*S,X=m*S,z=nn(),ee=z.width,ie=z.height;T<=ee&&X<=ie&&(re=0,U=0)}d({x:re,y:U,scale:S},N)};return{transform:c,resetTransform:g,updateTransform:d,dispatchZoomChange:k}}function je(n,e,a,r){var i=e+a,o=(a-r)/2;if(a>r){if(e>0)return ve({},n,o);if(e<0&&i<r)return ve({},n,-o)}else if(e<0||i>r)return ve({},n,e<0?o:-o);return{}}function tn(n,e,a,r){var i=nn(),o=i.width,s=i.height,l=null;return n<=o&&e<=s?l={x:0,y:0}:(n>o||e>s)&&(l=w(w({},je("x",a,n,o)),je("y",r,e,s))),l}var Re=1,Pn=1;function pn(n,e,a,r,i,o,s){var l=i.rotate,c=i.scale,f=i.x,g=i.y,d=t.useState(!1),k=j(d,2),C=k[0],y=k[1],N=t.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),E=function(u){!e||u.button!==0||(u.preventDefault(),u.stopPropagation(),N.current={diffX:u.pageX-f,diffY:u.pageY-g,transformX:f,transformY:g},y(!0))},R=function(u){a&&C&&o({x:u.pageX-N.current.diffX,y:u.pageY-N.current.diffY},"move")},P=function(){if(a&&C){y(!1);var u=N.current,h=u.transformX,m=u.transformY,v=f!==h&&g!==m;if(!v)return;var x=n.current.offsetWidth*c,I=n.current.offsetHeight*c,S=n.current.getBoundingClientRect(),O=S.left,L=S.top,p=l%180!==0,D=tn(p?I:x,p?x:I,O,L);D&&o(w({},D),"dragRebound")}},M=function(u){if(!(!a||u.deltaY==0)){var h=Math.abs(u.deltaY/100),m=Math.min(h,Pn),v=Re+m*r;u.deltaY>0&&(v=Re/v),s(v,"wheel",u.clientX,u.clientY)}};return t.useEffect(function(){var b,u,h,m;if(e){h=ke(window,"mouseup",P,!1),m=ke(window,"mousemove",R,!1);try{window.top!==window.self&&(b=ke(window.top,"mouseup",P,!1),u=ke(window.top,"mousemove",R,!1))}catch{}}return function(){var v,x,I,S;(v=h)===null||v===void 0||v.remove(),(x=m)===null||x===void 0||x.remove(),(I=b)===null||I===void 0||I.remove(),(S=u)===null||S===void 0||S.remove()}},[a,C,f,g,l,e]),{isMoving:C,onMouseDown:E,onMouseMove:R,onMouseUp:P,onWheel:M}}function Tn(n){return new Promise(function(e){if(!n){e(!1);return}var a=document.createElement("img");a.onerror=function(){return e(!1)},a.onload=function(){return e(!0)},a.src=n})}function an(n){var e=n.src,a=n.isCustomPlaceholder,r=n.fallback,i=t.useState(a?"loading":"normal"),o=j(i,2),s=o[0],l=o[1],c=t.useRef(!1),f=s==="error";t.useEffect(function(){var C=!0;return Tn(e).then(function(y){!y&&C&&l("error")}),function(){C=!1}},[e]),t.useEffect(function(){a&&!c.current?l("loading"):f&&l("normal")},[e]);var g=function(){l("normal")},d=function(y){c.current=!1,s==="loading"&&y!==null&&y!==void 0&&y.complete&&(y.naturalWidth||y.naturalHeight)&&(c.current=!0,g())},k=f&&r?{src:r}:{onLoad:g,src:e};return[d,k,s]}function De(n,e){var a=n.x-e.x,r=n.y-e.y;return Math.hypot(a,r)}function _n(n,e,a,r){var i=De(n,a),o=De(e,r);if(i===0&&o===0)return[n.x,n.y];var s=i/(i+o),l=n.x+s*(e.x-n.x),c=n.y+s*(e.y-n.y);return[l,c]}function On(n,e,a,r,i,o,s){var l=i.rotate,c=i.scale,f=i.x,g=i.y,d=t.useState(!1),k=j(d,2),C=k[0],y=k[1],N=t.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),E=function(u){N.current=w(w({},N.current),u)},R=function(u){if(e){u.stopPropagation(),y(!0);var h=u.touches,m=h===void 0?[]:h;m.length>1?E({point1:{x:m[0].clientX,y:m[0].clientY},point2:{x:m[1].clientX,y:m[1].clientY},eventType:"touchZoom"}):E({point1:{x:m[0].clientX-f,y:m[0].clientY-g},eventType:"move"})}},P=function(u){var h=u.touches,m=h===void 0?[]:h,v=N.current,x=v.point1,I=v.point2,S=v.eventType;if(m.length>1&&S==="touchZoom"){var O={x:m[0].clientX,y:m[0].clientY},L={x:m[1].clientX,y:m[1].clientY},p=_n(x,I,O,L),D=j(p,2),F=D[0],V=D[1],W=De(O,L)/De(x,I);s(W,"touchZoom",F,V,!0),E({point1:O,point2:L,eventType:"touchZoom"})}else S==="move"&&(o({x:m[0].clientX-x.x,y:m[0].clientY-x.y},"move"),E({eventType:"move"}))},M=function(){if(a){if(C&&y(!1),E({eventType:"none"}),r>c)return o({x:0,y:0,scale:r},"touchZoom");var u=n.current.offsetWidth*c,h=n.current.offsetHeight*c,m=n.current.getBoundingClientRect(),v=m.left,x=m.top,I=l%180!==0,S=tn(I?h:u,I?u:h,v,x);S&&o(w({},S),"dragRebound")}};return t.useEffect(function(){var b;return a&&e&&(b=ke(window,"touchmove",function(u){return u.preventDefault()},{passive:!1})),function(){var u;(u=b)===null||u===void 0||u.remove()}},[a,e]),{isTouching:C,onTouchStart:R,onTouchMove:P,onTouchEnd:M}}var Dn=["fallback","src","imgRef"],$n=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Ln=function(e){var a=e.fallback,r=e.src,i=e.imgRef,o=be(e,Dn),s=an({src:r,fallback:a}),l=j(s,2),c=l[0],f=l[1];return ae.createElement("img",oe({ref:function(d){i.current=d,c(d)}},o,f))},on=function(e){var a=e.prefixCls,r=e.src,i=e.alt,o=e.imageInfo,s=e.fallback,l=e.movable,c=l===void 0?!0:l,f=e.onClose,g=e.visible,d=e.icons,k=d===void 0?{}:d,C=e.rootClassName,y=e.closeIcon,N=e.getContainer,E=e.current,R=E===void 0?0:E,P=e.count,M=P===void 0?1:P,b=e.countRender,u=e.scaleStep,h=u===void 0?.5:u,m=e.minScale,v=m===void 0?1:m,x=e.maxScale,I=x===void 0?50:x,S=e.transitionName,O=S===void 0?"zoom":S,L=e.maskTransitionName,p=L===void 0?"fade":L,D=e.imageRender,F=e.imgCommonProps,V=e.toolbarRender,W=e.onTransform,re=e.onChange,U=be(e,$n),T=t.useRef(),X=t.useContext(Ee),z=X&&M>1,ee=X&&M>=1,ie=t.useState(!0),H=j(ie,2),ce=H[0],ne=H[1],B=Mn(T,v,I,W),A=B.transform,_=B.resetTransform,G=B.updateTransform,q=B.dispatchZoomChange,de=pn(T,c,g,h,A,G,q),Y=de.isMoving,Z=de.onMouseDown,K=de.onWheel,te=On(T,c,g,v,A,G,q),se=te.isTouching,le=te.onTouchStart,$=te.onTouchMove,J=te.onTouchEnd,ue=A.rotate,fe=A.scale,Ce=Q(ve({},"".concat(a,"-moving"),Y));t.useEffect(function(){ce||ne(!0)},[ce]);var Se=function(){_("close")},$e=function(){q(Re+h,"zoomIn")},ge=function(){q(Re/(Re+h),"zoomOut")},ye=function(){G({rotate:ue+90},"rotateRight")},Ie=function(){G({rotate:ue-90},"rotateLeft")},Me=function(){G({flipX:!A.flipX},"flipX")},Pe=function(){G({flipY:!A.flipY},"flipY")},ln=function(){_("reset")},Le=function(we){var pe=R+we;!Number.isInteger(pe)||pe<0||pe>M-1||(ne(!1),_(we<0?"prev":"next"),re==null||re(pe,R))},cn=function(we){!g||!z||(we.keyCode===he.LEFT?Le(-1):we.keyCode===he.RIGHT&&Le(1))},sn=function(we){g&&(fe!==1?G({x:0,y:0,scale:1},"doubleClick"):q(Re+h,"doubleClick",we.clientX,we.clientY))};t.useEffect(function(){var me=ke(window,"keydown",cn,!1);return function(){me.remove()}},[g,z,R]);var Xe=ae.createElement(Ln,oe({},F,{width:e.width,height:e.height,imgRef:T,className:"".concat(a,"-img"),alt:i,style:{transform:"translate3d(".concat(A.x,"px, ").concat(A.y,"px, 0) scale3d(").concat(A.flipX?"-":"").concat(fe,", ").concat(A.flipY?"-":"").concat(fe,", 1) rotate(").concat(ue,"deg)"),transitionDuration:(!ce||se)&&"0s"},fallback:s,src:r,onWheel:K,onMouseDown:Z,onDoubleClick:sn,onTouchStart:le,onTouchMove:$,onTouchEnd:J,onTouchCancel:J})),Ke=w({url:r,alt:i},o);return ae.createElement(ae.Fragment,null,ae.createElement(Je,oe({transitionName:O,maskTransitionName:p,closable:!1,keyboard:!0,prefixCls:a,onClose:f,visible:g,classNames:{wrapper:Ce},rootClassName:C,getContainer:N},U,{afterClose:Se}),ae.createElement("div",{className:"".concat(a,"-img-wrapper")},D?D(Xe,w({transform:A,image:Ke},X?{current:R}:{})):Xe)),ae.createElement(In,{visible:g,transform:A,maskTransitionName:p,closeIcon:y,getContainer:N,prefixCls:a,rootClassName:C,icons:k,countRender:b,showSwitch:z,showProgress:ee,current:R,count:M,scale:fe,minScale:v,maxScale:I,toolbarRender:V,onActive:Le,onZoomIn:$e,onZoomOut:ge,onRotateRight:ye,onRotateLeft:Ie,onFlipX:Me,onFlipY:Pe,onClose:f,onReset:ln,zIndex:U.zIndex!==void 0?U.zIndex+1:void 0,image:Ke}))},Ae=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function An(n){var e=t.useState({}),a=j(e,2),r=a[0],i=a[1],o=t.useCallback(function(l,c){return i(function(f){return w(w({},f),{},ve({},l,c))}),function(){i(function(f){var g=w({},f);return delete g[l],g})}},[]),s=t.useMemo(function(){return n?n.map(function(l){if(typeof l=="string")return{data:{src:l}};var c={};return Object.keys(l).forEach(function(f){["src"].concat(vn(Ae)).includes(f)&&(c[f]=l[f])}),{data:c}}):Object.keys(r).reduce(function(l,c){var f=r[c],g=f.canPreview,d=f.data;return g&&l.push({data:d,id:c}),l},[])},[n,r]);return[s,o,!!n]}var Yn=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Xn=["src"],Kn=function(e){var a,r=e.previewPrefixCls,i=r===void 0?"rc-image-preview":r,o=e.children,s=e.icons,l=s===void 0?{}:s,c=e.items,f=e.preview,g=e.fallback,d=_e(f)==="object"?f:{},k=d.visible,C=d.onVisibleChange,y=d.getContainer,N=d.current,E=d.movable,R=d.minScale,P=d.maxScale,M=d.countRender,b=d.closeIcon,u=d.onChange,h=d.onTransform,m=d.toolbarRender,v=d.imageRender,x=be(d,Yn),I=An(c),S=j(I,3),O=S[0],L=S[1],p=S[2],D=Oe(0,{value:N}),F=j(D,2),V=F[0],W=F[1],re=t.useState(!1),U=j(re,2),T=U[0],X=U[1],z=((a=O[V])===null||a===void 0?void 0:a.data)||{},ee=z.src,ie=be(z,Xn),H=Oe(!!k,{value:k,onChange:function(se,le){C==null||C(se,le,V)}}),ce=j(H,2),ne=ce[0],B=ce[1],A=t.useState(null),_=j(A,2),G=_[0],q=_[1],de=t.useCallback(function(te,se,le,$){var J=p?O.findIndex(function(ue){return ue.data.src===se}):O.findIndex(function(ue){return ue.id===te});W(J<0?0:J),B(!0),q({x:le,y:$}),X(!0)},[O,p]);t.useEffect(function(){ne?T||W(0):X(!1)},[ne]);var Y=function(se,le){W(se),u==null||u(se,le)},Z=function(){B(!1),q(null)},K=t.useMemo(function(){return{register:L,onPreview:de}},[L,de]);return t.createElement(Ee.Provider,{value:K},o,t.createElement(on,oe({"aria-hidden":!ne,movable:E,visible:ne,prefixCls:i,closeIcon:b,onClose:Z,mousePosition:G,imgCommonProps:ie,src:ee,fallback:g,icons:l,minScale:R,maxScale:P,getContainer:y,current:V,count:O.length,countRender:M,onTransform:h,toolbarRender:m,imageRender:v,onChange:Y},x)))},Be=0;function zn(n,e){var a=t.useState(function(){return Be+=1,String(Be)}),r=j(a,1),i=r[0],o=t.useContext(Ee),s={data:e,canPreview:n};return t.useEffect(function(){if(o)return o.register(i,s)},[]),t.useEffect(function(){o&&o.register(i,s)},[n,e]),i}var Fn=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Zn=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Vn=function(e){var a=e.src,r=e.alt,i=e.onPreviewClose,o=e.prefixCls,s=o===void 0?"rc-image":o,l=e.previewPrefixCls,c=l===void 0?"".concat(s,"-preview"):l,f=e.placeholder,g=e.fallback,d=e.width,k=e.height,C=e.style,y=e.preview,N=y===void 0?!0:y,E=e.className,R=e.onClick,P=e.onError,M=e.wrapperClassName,b=e.wrapperStyle,u=e.rootClassName,h=be(e,Fn),m=f&&f!==!0,v=_e(N)==="object"?N:{},x=v.src,I=v.visible,S=I===void 0?void 0:I,O=v.onVisibleChange,L=O===void 0?i:O,p=v.getContainer,D=p===void 0?void 0:p,F=v.mask,V=v.maskClassName,W=v.movable,re=v.icons,U=v.scaleStep,T=v.minScale,X=v.maxScale,z=v.imageRender,ee=v.toolbarRender,ie=be(v,Zn),H=x??a,ce=Oe(!!S,{value:S,onChange:L}),ne=j(ce,2),B=ne[0],A=ne[1],_=an({src:a,isCustomPlaceholder:m,fallback:g}),G=j(_,3),q=G[0],de=G[1],Y=G[2],Z=t.useState(null),K=j(Z,2),te=K[0],se=K[1],le=t.useContext(Ee),$=!!N,J=function(){A(!1),se(null)},ue=Q(s,M,u,ve({},"".concat(s,"-error"),Y==="error")),fe=t.useMemo(function(){var ge={};return Ae.forEach(function(ye){e[ye]!==void 0&&(ge[ye]=e[ye])}),ge},Ae.map(function(ge){return e[ge]})),Ce=t.useMemo(function(){return w(w({},fe),{},{src:H})},[H,fe]),Se=zn($,Ce),$e=function(ye){var Ie=En(ye.target),Me=Ie.left,Pe=Ie.top;le?le.onPreview(Se,H,Me,Pe):(se({x:Me,y:Pe}),A(!0)),R==null||R(ye)};return t.createElement(t.Fragment,null,t.createElement("div",oe({},h,{className:ue,onClick:$?$e:R,style:w({width:d,height:k},b)}),t.createElement("img",oe({},fe,{className:Q("".concat(s,"-img"),ve({},"".concat(s,"-img-placeholder"),f===!0),E),style:w({height:k},C),ref:q},de,{width:d,height:k,onError:P})),Y==="loading"&&t.createElement("div",{"aria-hidden":"true",className:"".concat(s,"-placeholder")},f),F&&$&&t.createElement("div",{className:Q("".concat(s,"-mask"),V),style:{display:(C==null?void 0:C.display)==="none"?"none":void 0}},F)),!le&&$&&t.createElement(on,oe({"aria-hidden":!B,visible:B,prefixCls:c,onClose:J,mousePosition:te,src:H,alt:r,imageInfo:{width:d,height:k},fallback:g,getContainer:D,icons:re,movable:W,scaleStep:U,minScale:T,maxScale:X,rootClassName:u,imageRender:z,imgCommonProps:fe,toolbarRender:ee},ie)))};Vn.PreviewGroup=Kn;var Wn=["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"],rn=t.forwardRef(function(n,e){var a,r=n.prefixCls,i=r===void 0?"rc-switch":r,o=n.className,s=n.checked,l=n.defaultChecked,c=n.disabled,f=n.loadingIcon,g=n.checkedChildren,d=n.unCheckedChildren,k=n.onClick,C=n.onChange,y=n.onKeyDown,N=be(n,Wn),E=Oe(!1,{value:s,defaultValue:l}),R=j(E,2),P=R[0],M=R[1];function b(v,x){var I=P;return c||(I=v,M(I),C==null||C(I,x)),I}function u(v){v.which===he.LEFT?b(!1,v):v.which===he.RIGHT&&b(!0,v),y==null||y(v)}function h(v){var x=b(!P,v);k==null||k(x,v)}var m=Q(i,o,(a={},ve(a,"".concat(i,"-checked"),P),ve(a,"".concat(i,"-disabled"),c),a));return t.createElement("button",oe({},N,{type:"button",role:"switch","aria-checked":P,disabled:c,className:m,ref:e,onKeyDown:u,onClick:h}),f,t.createElement("span",{className:"".concat(i,"-inner")},t.createElement("span",{className:"".concat(i,"-inner-checked")},g),t.createElement("span",{className:"".concat(i,"-inner-unchecked")},d)))});rn.displayName="Switch";const Qn=Object.freeze(Object.defineProperty({__proto__:null,default:rn},Symbol.toStringTag,{value:"Module"}));export{Je as D,Vn as I,wn as P,rn as S,qn as a,Qn as e};
