import{R as k,a as o,w as ee,t as i}from"./chunk-PVWAREVJ-CaeOwHG_.js";import{h as W}from"./request-CjBmveHj.js";import{T as V,P as te,M as ne}from"./Table-Bz-N3dAz.js";import{R as N,I as le,q as C}from"./shadow-Dste9fMo.js";import{m as F,u as ie}from"./index-kAgd77-w.js";import{g as ae,r as se,t as re,b as oe}from"./index-C6kagqnf.js";import{u as ce,B as _}from"./button-DY33ZuDq.js";import{t as de}from"./omit-_PpgVY5T.js";import{D as P}from"./index-CeNonjvE.js";import{S as me}from"./index-jC90AlnQ.js";import{T as pe}from"./index-DunuK-Wf.js";import"./createForOfIteratorHelper-S2aNMrNp.js";import"./index-IEvJvc0V.js";import"./index-BLlS64GR.js";import"./index-CRb9OZA9.js";import"./Pagination-BgtA34Dv.js";import"./index-DsuPZzx1.js";import"./EyeOutlined-BeRCIN0Q.js";import"./index-DSKHKlRI.js";import"./index-_fd0fOh9.js";import"./index-B4RzsnZD.js";import"./Table-4OPVbUbL.js";import"./Tree-CIH8SUTX.js";import"./Input-Baj7Qhn8.js";import"./Input-Bp_RZhWN.js";import"./index-tUNJ2f8S.js";import"./useNotification-CCy-DdaB.js";import"./index-C38gChg6.js";import"./index-DhCLwE81.js";import"./TextArea-CJq9T7-C.js";const be={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},M=k.createContext({});var ue=function(e,n){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,l=Object.getOwnPropertySymbols(e);t<l.length;t++)n.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(e,l[t])&&(a[l[t]]=e[l[t]]);return a};const ge=e=>de(e).map(n=>Object.assign(Object.assign({},n==null?void 0:n.props),{key:n.key}));function he(e,n,a){const l=o.useMemo(()=>n||ge(a),[n,a]);return o.useMemo(()=>l.map(b=>{var{span:c}=b,x=ue(b,["span"]);return c==="filled"?Object.assign(Object.assign({},x),{filled:!0}):Object.assign(Object.assign({},x),{span:typeof c=="number"?c:F(e,c)})}),[l,e])}var fe=function(e,n){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,l=Object.getOwnPropertySymbols(e);t<l.length;t++)n.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(e,l[t])&&(a[l[t]]=e[l[t]]);return a};function xe(e,n){let a=[],l=[],t=!1,b=0;return e.filter(c=>c).forEach(c=>{const{filled:x}=c,h=fe(c,["filled"]);if(x){l.push(h),a.push(l),l=[],b=0;return}const j=n-b;b+=c.span||1,b>=n?(b>n?(t=!0,l.push(Object.assign(Object.assign({},h),{span:j}))):l.push(h),a.push(l),l=[],b=0):l.push(h)}),l.length>0&&a.push(l),a=a.map(c=>{const x=c.reduce((h,j)=>h+(j.span||1),0);if(x<n){const h=c[c.length-1];return h.span=n-(x-(h.span||1)),c}return c}),[a,t]}const je=(e,n)=>{const[a,l]=o.useMemo(()=>xe(n,e),[n,e]);return a},ye=({children:e})=>e;function H(e){return e!=null}const B=e=>{const{itemPrefixCls:n,component:a,span:l,className:t,style:b,labelStyle:c,contentStyle:x,bordered:h,label:j,content:m,colon:g,type:v,styles:u}=e,O=a,p=o.useContext(M),{classNames:f}=p;return h?o.createElement(O,{className:N({[`${n}-item-label`]:v==="label",[`${n}-item-content`]:v==="content",[`${f==null?void 0:f.label}`]:v==="label",[`${f==null?void 0:f.content}`]:v==="content"},t),style:b,colSpan:l},H(j)&&o.createElement("span",{style:Object.assign(Object.assign({},c),u==null?void 0:u.label)},j),H(m)&&o.createElement("span",{style:Object.assign(Object.assign({},c),u==null?void 0:u.content)},m)):o.createElement(O,{className:N(`${n}-item`,t),style:b,colSpan:l},o.createElement("div",{className:`${n}-item-container`},(j||j===0)&&o.createElement("span",{className:N(`${n}-item-label`,f==null?void 0:f.label,{[`${n}-item-no-colon`]:!g}),style:Object.assign(Object.assign({},c),u==null?void 0:u.label)},j),(m||m===0)&&o.createElement("span",{className:N(`${n}-item-content`,f==null?void 0:f.content),style:Object.assign(Object.assign({},x),u==null?void 0:u.content)},m)))};function D(e,{colon:n,prefixCls:a,bordered:l},{component:t,type:b,showLabel:c,showContent:x,labelStyle:h,contentStyle:j,styles:m}){return e.map(({label:g,children:v,prefixCls:u=a,className:O,style:p,labelStyle:f,contentStyle:d,span:I=1,key:y,styles:s},w)=>typeof t=="string"?o.createElement(B,{key:`${b}-${y||w}`,className:O,style:p,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},h),m==null?void 0:m.label),f),s==null?void 0:s.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},j),m==null?void 0:m.content),d),s==null?void 0:s.content)},span:I,colon:n,component:t,itemPrefixCls:u,bordered:l,label:c?g:null,content:x?v:null,type:b}):[o.createElement(B,{key:`label-${y||w}`,className:O,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},h),m==null?void 0:m.label),p),f),s==null?void 0:s.label),span:1,colon:n,component:t[0],itemPrefixCls:u,bordered:l,label:g,type:"label"}),o.createElement(B,{key:`content-${y||w}`,className:O,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},j),m==null?void 0:m.content),p),d),s==null?void 0:s.content),span:I*2-1,component:t[1],itemPrefixCls:u,bordered:l,content:v,type:"content"})])}const ve=e=>{const n=o.useContext(M),{prefixCls:a,vertical:l,row:t,index:b,bordered:c}=e;return l?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${b}`,className:`${a}-row`},D(t,e,Object.assign({component:"th",type:"label",showLabel:!0},n))),o.createElement("tr",{key:`content-${b}`,className:`${a}-row`},D(t,e,Object.assign({component:"td",type:"content",showContent:!0},n)))):o.createElement("tr",{key:b,className:`${a}-row`},D(t,e,Object.assign({component:c?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},Oe=e=>{const{componentCls:n,labelBg:a}=e;return{[`&${n}-bordered`]:{[`> ${n}-view`]:{border:`${C(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${n}-row`]:{borderBottom:`${C(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:first-child":{"> th:first-child, > td:first-child":{borderStartStartRadius:e.borderRadiusLG}},"&:last-child":{borderBottom:"none","> th:first-child, > td:first-child":{borderEndStartRadius:e.borderRadiusLG}},[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${C(e.padding)} ${C(e.paddingLG)}`,borderInlineEnd:`${C(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${n}-item-label`]:{color:e.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${n}-middle`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${C(e.paddingSM)} ${C(e.paddingLG)}`}}},[`&${n}-small`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${C(e.paddingXS)} ${C(e.padding)}`}}}}}},Ce=e=>{const{componentCls:n,extraColor:a,itemPaddingBottom:l,itemPaddingEnd:t,colonMarginRight:b,colonMarginLeft:c,titleMarginBottom:x}=e;return{[n]:Object.assign(Object.assign(Object.assign({},se(e)),Oe(e)),{"&-rtl":{direction:"rtl"},[`${n}-header`]:{display:"flex",alignItems:"center",marginBottom:x},[`${n}-title`]:Object.assign(Object.assign({},re),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${n}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${n}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${n}-row`]:{"> th, > td":{paddingBottom:l,paddingInlineEnd:t},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${n}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${C(c)} ${C(b)}`},[`&${n}-item-no-colon::after`]:{content:'""'}},[`${n}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${n}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${n}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${n}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${n}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ie=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),$e=ae("Descriptions",e=>{const n=le(e,{});return Ce(n)},Ie);var Ne=function(e,n){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,l=Object.getOwnPropertySymbols(e);t<l.length;t++)n.indexOf(l[t])<0&&Object.prototype.propertyIsEnumerable.call(e,l[t])&&(a[l[t]]=e[l[t]]);return a};const r=e=>{const{prefixCls:n,title:a,extra:l,column:t,colon:b=!0,bordered:c,layout:x,children:h,className:j,rootClassName:m,style:g,size:v,labelStyle:u,contentStyle:O,styles:p,items:f,classNames:d}=e,I=Ne(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:y,direction:s,className:w,style:X,classNames:S,styles:E}=oe("descriptions"),$=y("descriptions",n),L=ie(),J=o.useMemo(()=>{var z;return typeof t=="number"?t:(z=F(L,Object.assign(Object.assign({},be),t)))!==null&&z!==void 0?z:3},[L,t]),U=he(L,f,h),T=ce(v),q=je(J,U),[K,Q,Y]=$e($),Z=o.useMemo(()=>({labelStyle:u,contentStyle:O,styles:{content:Object.assign(Object.assign({},E.content),p==null?void 0:p.content),label:Object.assign(Object.assign({},E.label),p==null?void 0:p.label)},classNames:{label:N(S.label,d==null?void 0:d.label),content:N(S.content,d==null?void 0:d.content)}}),[u,O,p,d,S,E]);return K(o.createElement(M.Provider,{value:Z},o.createElement("div",Object.assign({className:N($,w,S.root,d==null?void 0:d.root,{[`${$}-${T}`]:T&&T!=="default",[`${$}-bordered`]:!!c,[`${$}-rtl`]:s==="rtl"},j,m,Q,Y),style:Object.assign(Object.assign(Object.assign(Object.assign({},X),E.root),p==null?void 0:p.root),g)},I),(a||l)&&o.createElement("div",{className:N(`${$}-header`,S.header,d==null?void 0:d.header),style:Object.assign(Object.assign({},E.header),p==null?void 0:p.header)},a&&o.createElement("div",{className:N(`${$}-title`,S.title,d==null?void 0:d.title),style:Object.assign(Object.assign({},E.title),p==null?void 0:p.title)},a),l&&o.createElement("div",{className:N(`${$}-extra`,S.extra,d==null?void 0:d.extra),style:Object.assign(Object.assign({},E.extra),p==null?void 0:p.extra)},l)),o.createElement("div",{className:`${$}-view`},o.createElement("table",null,o.createElement("tbody",null,q.map((z,A)=>o.createElement(ve,{key:A,index:A,colon:b,prefixCls:$,vertical:x==="vertical",bordered:c,row:z}))))))))};r.Item=ye;const we=(e,n=void 0)=>{try{return JSON.parse(e)}catch{return n}},G="/api/sec-info",Se={getCompanyInfoList:async e=>await W.get(`${G}`,e),getCompanyInfoDetail:async e=>await W.get(`${G}/${e}`)},{Title:Ee,Text:R}=V,ze=()=>{const[e,n]=o.useState(!1),[a,l]=o.useState(!1),[t,b]=o.useState(null),c=[{title:"股票代码",dataIndex:"stockCode",key:"stockCode",copyable:!0,width:100,fixed:"left"},{title:"公司简称",dataIndex:"orgShortNameCn",key:"orgShortNameCn",width:100},{title:"公司全称",dataIndex:"orgNameCn",key:"orgNameCn",search:!0,ellipsis:!0,width:200},{title:"英文名称",dataIndex:"orgNameEn",key:"orgNameEn",width:150,ellipsis:!0},{title:"省份",dataIndex:"provincialName",key:"provincialName",filters:[{text:"江苏省",value:"江苏省"},{text:"重庆市",value:"重庆市"},{text:"广东省",value:"广东省"},{text:"北京市",value:"北京市"},{text:"上海市",value:"上海市"},{text:"浙江省",value:"浙江省"}],width:80},{title:"所属行业",dataIndex:"affiliateIndustry",key:"industry",width:120,renderText:(m,g)=>m.indName},{title:"法定代表人",dataIndex:"legalRepresentative",key:"legalRepresentative",width:100},{title:"注册资本(元)",dataIndex:"regAsset",key:"regAsset",width:120,renderText:(m,g)=>g.regAsset?g.regAsset.toLocaleString("zh-CN"):"-"},{title:"员工人数",dataIndex:"staffNum",key:"staffNum",width:80,renderText:(m,g)=>g.staffNum?g.staffNum.toLocaleString("zh-CN"):"-"},{title:"上市日期",dataIndex:"listedDate",valueType:"date",sorter:!0,key:"listedDate",width:100},{title:"企业性质",dataIndex:"classiName",key:"classiName",width:100},{title:"联系电话",dataIndex:"telephone",key:"telephone",width:120},{title:"邮箱",dataIndex:"email",key:"email",width:150},{title:"网址",dataIndex:"orgWebsite",key:"orgWebsite",width:150,renderText:(m,g)=>g.orgWebsite||"-"},{title:"操作",key:"action",valueType:"option",width:60,fixed:"right",render:(m,g)=>[i.jsx(_,{type:"link",size:"small",onClick:()=>x(g),children:"查看"},"view")]}],x=m=>{b(m),l(!0)},h=()=>{l(!1),b(null)},j=()=>t?i.jsx(ne,{title:"公司详细信息",open:a,onCancel:h,footer:[i.jsx(_,{onClick:h,children:"关闭"},"close")],width:800,style:{top:20},children:i.jsxs(V,{children:[i.jsxs(Ee,{level:4,style:{marginBottom:16},children:[t.orgNameCn,i.jsxs(R,{type:"secondary",style:{marginLeft:12,fontSize:14},children:["(",t.stockCode,")"]})]}),i.jsxs(r,{column:2,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"股票代码",span:2,children:t.stockCode}),i.jsx(r.Item,{label:"组织机构ID",children:t.orgId||"-"}),i.jsx(r.Item,{label:"公司简称",children:t.orgShortNameCn||"-"}),i.jsx(r.Item,{label:"英文全称",children:t.orgNameEn||"-"}),i.jsx(r.Item,{label:"英文简称",children:t.orgShortNameEn||"-"}),i.jsx(r.Item,{label:"省份",children:t.provincialName||"-"}),i.jsx(r.Item,{label:"企业性质",children:t.classiName||"-"})]}),i.jsx(P,{orientation:"left",children:"管理层信息"}),i.jsxs(r,{column:2,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"法定代表人",children:t.legalRepresentative||"-"}),i.jsx(r.Item,{label:"总经理",children:t.generalManager||"-"}),i.jsx(r.Item,{label:"董事会秘书",children:t.secretary||"-"}),i.jsx(r.Item,{label:"董事长",children:t.chairman||"-"}),i.jsx(r.Item,{label:"高管人数",children:t.executivesNums||"-"})]}),i.jsx(P,{orientation:"left",children:"经营信息"}),i.jsxs(r,{column:1,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"主营业务",children:t.mainOperationBusiness||"-"}),i.jsx(r.Item,{label:"经营范围",children:t.operatingScope||"-"}),i.jsx(r.Item,{label:"公司介绍",children:t.orgCnIntroduction||"-"})]}),i.jsx(P,{orientation:"left",children:"财务信息"}),i.jsxs(r,{column:2,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"注册资本",children:t.regAsset?t.regAsset.toLocaleString("zh-CN")+" 元":"-"}),i.jsx(r.Item,{label:"员工人数",children:t.staffNum?t.staffNum.toLocaleString("zh-CN")+" 人":"-"}),i.jsx(r.Item,{label:"成立日期",children:t.establishedDate?new Date(t.establishedDate).toLocaleDateString("zh-CN"):"-"}),i.jsx(r.Item,{label:"上市日期",children:t.listedDate?new Date(t.listedDate).toLocaleDateString("zh-CN"):"-"}),i.jsx(r.Item,{label:"货币类型",children:t.currency||"-"})]}),i.jsx(P,{orientation:"left",children:"联系信息"}),i.jsxs(r,{column:2,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"联系电话",children:t.telephone||"-"}),i.jsx(r.Item,{label:"传真",children:t.fax||"-"}),i.jsx(r.Item,{label:"邮箱",children:t.email||"-"}),i.jsx(r.Item,{label:"邮编",children:t.postcode||"-"}),i.jsx(r.Item,{label:"网址",span:2,children:t.orgWebsite?i.jsx("a",{href:t.orgWebsite,target:"_blank",rel:"noopener noreferrer",children:t.orgWebsite}):"-"}),i.jsx(r.Item,{label:"注册地址",span:2,children:t.regAddressCn||"-"}),i.jsx(r.Item,{label:"办公地址",span:2,children:t.officeAddressCn||"-"})]}),i.jsx(P,{orientation:"left",children:"其他信息"}),i.jsxs(r,{column:2,bordered:!0,size:"small",children:[i.jsx(r.Item,{label:"实际控制人",children:t.actualController||"-"}),i.jsx(r.Item,{label:"曾用名",children:t.preNameCn||"-"}),i.jsx(r.Item,{label:"所属行业",children:t.affiliateIndustry?typeof t.affiliateIndustry=="object"?i.jsxs(me,{children:[i.jsx(pe,{children:t.affiliateIndustry.indName}),i.jsxs(R,{type:"secondary",children:["(",t.affiliateIndustry.indCode,")"]})]}):i.jsx(R,{children:t.affiliateIndustry}):"-"})]})]})}):null;return i.jsxs(i.Fragment,{children:[i.jsx(te,{columns:c,columnsState:{defaultValue:{orgNameEn:{show:!1},legalRepresentative:{show:!1},regAsset:{show:!1},staffNum:{show:!1},classiName:{show:!1},telephone:{show:!1},email:{show:!1},orgWebsite:{show:!1}}},loading:e,request:async(m={},g,v)=>{n(!0);try{const{current:u=1,pageSize:O=10,orgNameCn:p,...f}=m,d={page:u-1,size:O};if(p&&(d.orgNameCn=p),Object.entries(f).forEach(([y,s])=>{s!==void 0&&s!==""&&(d[y]=s)}),g&&Object.keys(g).length>0){const[y,s]=Object.entries(g)[0];d.sortBy=y,d.direction=s==="ascend"?"asc":"desc"}else d.sortBy="id",d.direction="asc";Object.entries(v).forEach(([y,s])=>{s&&(d[y]=Array.isArray(s)?s.join(","):s)});const[I]=await Promise.all([Se.getCompanyInfoList(d)]);return I.content=I.content?I.content.map(y=>{let s=y.affiliateIndustry;s=we(s);let w={indCode:(s==null?void 0:s.ind_code)||(s==null?void 0:s.indCode),indName:(s==null?void 0:s.ind_name)||(s==null?void 0:s.indName)};return y.affiliateIndustry=w,y}):[],{data:I.content||[],total:I.totalElements||0,success:!0}}catch(u){return console.error("获取数据失败:",u),{data:[],total:0,success:!1}}finally{n(!1)}},rowKey:"id",pagination:{showSizeChanger:!0,showQuickJumper:!0,pageSize:10},search:{labelWidth:"auto"},headerTitle:"上市公司信息管理",scroll:{x:1200},options:{setting:!0,density:!0,fullScreen:!0,reload:!0}}),j()]})},rt=ee(ze);export{rt as default};
